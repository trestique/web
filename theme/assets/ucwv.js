(function(){"use strict";var y,C,q,A,P,j=-1,T=function(n){addEventListener("pageshow",function(e){e.persisted&&(j=e.timeStamp,n(e))},!0)},F=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},I=function(){var n=F();return n&&n.activationStart||0},p=function(n,e){var r=F(),i="navigate";return j>=0?i="back-forward-cache":r&&(document.prerendering||I()>0?i="prerender":document.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:n,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},E=function(n,e,r){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var i=new PerformanceObserver(function(t){Promise.resolve().then(function(){e(t.getEntries())})});return i.observe(Object.assign({type:n,buffered:!0},r||{})),i}}catch(t){}},m=function(n,e,r,i){var t,o;return function(u){e.value>=0&&(u||i)&&((o=e.value-(t||0))||t===void 0)&&(t=e.value,e.delta=o,e.rating=function(c,d){return c>d[1]?"poor":c>d[0]?"needs-improvement":"good"}(e.value,r),n(e))}},B=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},M=function(n){var e=function(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||n(i)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},x=function(n){var e=!1;return function(r){e||(n(r),e=!0)}},w=-1,z=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},k=function(n){document.visibilityState==="hidden"&&w>-1&&(w=n.type==="visibilitychange"?n.timeStamp:0,an())},J=function(){addEventListener("visibilitychange",k,!0),addEventListener("prerenderingchange",k,!0)},an=function(){removeEventListener("visibilitychange",k,!0),removeEventListener("prerenderingchange",k,!0)},N=function(){return w<0&&(w=z(),J(),T(function(){setTimeout(function(){w=z(),J()},0)})),{get firstHiddenTime(){return w}}},S=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},K=[1800,3e3],Q=function(n,e){e=e||{},S(function(){var r,i=N(),t=p("FCP"),o=E("paint",function(u){u.forEach(function(c){c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<i.firstHiddenTime&&(t.value=Math.max(c.startTime-I(),0),t.entries.push(c),r(!0)))})});o&&(r=m(n,t,K,e.reportAllChanges),T(function(u){t=p("FCP"),r=m(n,t,K,e.reportAllChanges),B(function(){t.value=performance.now()-u.timeStamp,r(!0)})}))})},W=[.1,.25],on=function(n,e){e=e||{},Q(x(function(){var r,i=p("CLS",0),t=0,o=[],u=function(v){v.forEach(function(f){if(!f.hadRecentInput){var g=o[0],l=o[o.length-1];t&&f.startTime-l.startTime<1e3&&f.startTime-g.startTime<5e3?(t+=f.value,o.push(f)):(t=f.value,o=[f])}}),t>i.value&&(i.value=t,i.entries=o,r())},c=E("layout-shift",u);c&&(r=m(n,i,W,e.reportAllChanges),M(function(){u(c.takeRecords()),r(!0)}),T(function(){t=0,i=p("CLS",0),r=m(n,i,W,e.reportAllChanges),B(function(){return r()})}),setTimeout(r,0))}))},L={passive:!0,capture:!0},un=new Date,Z=function(n,e){y||(y=e,C=n,q=new Date,U(removeEventListener),G())},G=function(){if(C>=0&&C<q-un){var n={entryType:"first-input",name:y.type,target:y.target,cancelable:y.cancelable,startTime:y.timeStamp,processingStart:y.timeStamp+C};A.forEach(function(e){e(n)}),A=[]}},cn=function(n){if(n.cancelable){var e=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(r,i){var t=function(){Z(r,i),u()},o=function(){u()},u=function(){removeEventListener("pointerup",t,L),removeEventListener("pointercancel",o,L)};addEventListener("pointerup",t,L),addEventListener("pointercancel",o,L)}(e,n):Z(e,n)}},U=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return n(e,cn,L)})},V=[100,300],fn=function(n,e){e=e||{},S(function(){var r,i=N(),t=p("FID"),o=function(v){v.startTime<i.firstHiddenTime&&(t.value=v.processingStart-v.startTime,t.entries.push(v),r(!0))},u=function(v){v.forEach(o)},c=E("first-input",u);r=m(n,t,V,e.reportAllChanges),c&&M(x(function(){u(c.takeRecords()),c.disconnect()})),c&&T(function(){var d;t=p("FID"),r=m(n,t,V,e.reportAllChanges),A=[],C=-1,y=null,U(addEventListener),d=o,A.push(d),G()})})},X=0,O=1/0,D=0,sn=function(n){n.forEach(function(e){e.interactionId&&(O=Math.min(O,e.interactionId),D=Math.max(D,e.interactionId),X=D?(D-O)/7+1:0)})},Y=function(){return P?X:performance.interactionCount||0},dn=function(){"interactionCount"in performance||P||(P=E("event",sn,{type:"event",buffered:!0,durationThreshold:0}))},_=[200,500],$=0,nn=function(){return Y()-$},h=[],R={},en=function(n){var e=h[h.length-1],r=R[n.interactionId];if(r||h.length<10||n.duration>e.latency){if(r)r.entries.push(n),r.latency=Math.max(r.latency,n.duration);else{var i={id:n.interactionId,latency:n.duration,entries:[n]};R[i.id]=i,h.push(i)}h.sort(function(t,o){return o.latency-t.latency}),h.splice(10).forEach(function(t){delete R[t.id]})}},ln=function(n,e){e=e||{},S(function(){var r;dn();var i,t=p("INP"),o=function(d){d.forEach(function(g){g.interactionId&&en(g),g.entryType==="first-input"&&!h.some(function(l){return l.entries.some(function(s){return g.duration===s.duration&&g.startTime===s.startTime})})&&en(g)});var v,f=(v=Math.min(h.length-1,Math.floor(nn()/50)),h[v]);f&&f.latency!==t.value&&(t.value=f.latency,t.entries=f.entries,i())},u=E("event",o,{durationThreshold:(r=e.durationThreshold)!==null&&r!==void 0?r:40});i=m(n,t,_,e.reportAllChanges),u&&("interactionId"in PerformanceEventTiming.prototype&&u.observe({type:"first-input",buffered:!0}),M(function(){o(u.takeRecords()),t.value<0&&nn()>0&&(t.value=0,t.entries=[]),i(!0)}),T(function(){h=[],$=Y(),t=p("INP"),i=m(n,t,_,e.reportAllChanges)}))})},tn=[2500,4e3],H={},vn=function(n,e){e=e||{},S(function(){var r,i=N(),t=p("LCP"),o=function(v){var f=v[v.length-1];f&&f.startTime<i.firstHiddenTime&&(t.value=Math.max(f.startTime-I(),0),t.entries=[f],r())},u=E("largest-contentful-paint",o);if(u){r=m(n,t,tn,e.reportAllChanges);var c=x(function(){H[t.id]||(o(u.takeRecords()),u.disconnect(),H[t.id]=!0,r(!0))});["keydown","click"].forEach(function(d){addEventListener(d,function(){return setTimeout(c,0)},!0)}),M(c),T(function(d){t=p("LCP"),r=m(n,t,tn,e.reportAllChanges),B(function(){t.value=performance.now()-d.timeStamp,H[t.id]=!0,r(!0)})})}})},rn=[800,1800],pn=function a(n){document.prerendering?S(function(){return a(n)}):document.readyState!=="complete"?addEventListener("load",function(){return a(n)},!0):setTimeout(n,0)},mn=function(n,e){e=e||{};var r=p("TTFB"),i=m(n,r,rn,e.reportAllChanges);pn(function(){var t=F();if(t){var o=t.responseStart;if(o<=0||o>performance.now())return;r.value=Math.max(o-I(),0),r.entries=[t],i(!0),T(function(){r=p("TTFB",0),(i=m(n,r,rn,e.reportAllChanges))(!0)})}})};(function(a){var n=function(){return Date.now().toString(36)+Math.random().toString(36).substring(2)};function e(){var l=typeof navigator=="undefined"?null:navigator,s=l&&l.connection?l.connection:null;return{url:a?a.href:null,referrer:document?document.referrer:null,userAgent:l?l.userAgent:null,memory:l?l.deviceMemory:void 0,cpus:l?l.hardwareConcurrency:void 0,connection:s?{effectiveType:s.effectiveType,rtt:s.rtt,downlink:s.downlink}:void 0}}var r=e(),i=n(),t="https://performance-api.kleverlabs.io/user_cwv",o={key:2,sid:i,info:r};function u(l,s){if(typeof navigator!="undefined"&&navigator.sendBeacon){var b=Object.assign({name:l,metric:s?{name:s.name,value:s.value,delta:s.delta,id:s.id,rating:s.rating,navigationType:s.navigationType}:void 0},o);navigator.sendBeacon(t,JSON.stringify(b))}}var c=!1,d={};function v(l){l(function(s){c=!0;var b=s==null?void 0:s.name;!b||d[b]||(d[b]=!0,u(b,s))})}for(var f=[on,Q,fn,ln,vn,mn],g=0;g<f.length;g++)v(f[g]);setTimeout(function(){c||u("NSB",null)},1e4)})(window.location)})();
